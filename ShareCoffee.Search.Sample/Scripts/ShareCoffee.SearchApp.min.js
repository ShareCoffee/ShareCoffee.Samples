(function(){window.SearchApp=angular.module("SearchApp",[]);window.SearchApp.controller("searchController",["$scope","searchService",function(n,t){return n.queryText="",n.results=[],n.onResultsReceived=function(t){var r,f,i,e,u;for(r=t.d.query.PrimaryQueryResult.RelevantResults.Table.Rows.results,u=[],i=0,e=r.length;i<e;i++)f=r[i],u.push(function(t){return n.results.push({title:t.Cells.results[3].Value,author:t.Cells.results[4].Value,link:t.Cells.results[6].Value})}(f));return u},n.onError=function(n,t,i){return console.log(n),console.log(t),console.log(i)},n.search=function(i){return t.queryFor(i,n.onResultsReceived,n.onError)}}]);window.SearchApp.service("searchService",["$http",function(n){return{queryFor:function(t,i,r){var u;return u=ShareCoffee.REST.build.read["for"].angularJS({url:""+ShareCoffee.Url.Query+"?querytext='"+t+"'"}),n(u).success(i).error(r)}}}])}).call(this)